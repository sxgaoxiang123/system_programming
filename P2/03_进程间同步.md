# wait和waitpid函数

一个进程在终止时会关闭所有文件描述符，释放在用户空间分配的内存，但它的PCB还保留着，内核在其中保存了一些信息

- 如果是正常终止则保存着退出状态
- 如果是异常终止则保存着导致该进程终止的信号是哪个

父进程可以调用wait或waitpid获取这些信息，然后彻底清除掉这个进程

```c
#include <sys/types.h>
#include <sys/wait.h>

pid_t wait(int *status);
pid_t waitpid(pid_t pid, int *status, int options);
```

例如：一个进程的退出状态可以在Shell中用特殊变量$?查看，因为Shell是它的父进程，当它终止时Shell调用wait或waitpid得到它的退出状态同时彻底清除这个进程

